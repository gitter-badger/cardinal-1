app.controller("loginController",function(r,e,o,s){r.user={},r.user.Username="",r.user.Password="",r.user.Email="",r.user.$error={},r.checkIfEmpty=function(){var e=!1;return""===r.user.Username?(r.user.$error.unReq=!0,e=!0):r.user.$error.unReq=!1,""===r.user.Password?(r.user.$error.passReq=!0,e=!0):r.user.$error.passReq=!1,e},r.login=function(){r.user.$error.hasOwnProperty("loginFailed")&&(r.user.$error.loginFailed=!1);var n=r.checkIfEmpty();n||(console.log("logging in"),e.post("/login",angular.toJson(r.user)).success(function(e){403!==e&&(console.log("Login sucess"),r.user=e,s.user=r.user,document.cookie="token="+e._id,o.url("dashboard"))}).error(function(e){r.user.$error.loginFailed=!0}))},r.signup=function(){var n=r.checkIfEmpty();return console.log("Something"),console.log(n),""===r.user.Email||-1===r.user.Email.indexOf("@")||-1===r.user.Email.indexOf(".")?void(r.user.$error.emailReq=!0):(r.user.$error.emailReq=!1,void(n||(console.log("POSTING"),e.post("/signup",angular.toJson(r.user)).success(function(e,n){console.log(e),403!==e&&(r.user=e,s.user=r.user,document.cookie="token="+e._id,o.url("dashboard"))}).error(function(){r.user.$error.unTaken=!0}))))}});